Stock-based compensation and related tax benefits recognized under all plans were as follows: