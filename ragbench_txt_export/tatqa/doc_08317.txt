Revenue and costs are generally directly attributed to our segments. However, due to the integrated structure of our business, certain revenue recognized and costs incurred by one segment may benefit other segments. Revenue from certain contracts is allocated among the segments based on the relative value of the underlying products and services, which can include allocation based on actual prices charged, prices when sold separately, or estimated costs plus a profit margin. Cost of revenue is allocated in certain cases based on a relative revenue methodology. Operating expenses that are allocated primarily include those relating to marketing of products and services from which multiple segments benefit and are generally allocated based on relative gross margin. [["(In millions)", "", "", ""], ["Year Ended June 30,", "2019", "2018", "2017"], ["Revenue", "", "", ""], ["Productivity and Business Processes", "$ 41,160", "$ 35,865", "$ 29,870"], ["Intelligent Cloud", "38,985", "32,219", "27,407"], ["More Personal Computing", "45,698", "42,276", "39,294"], ["Total", "$  125,843", "$   110,360", "$   96,571"], ["Operating Income (Loss)", "", "", ""], ["Productivity and Business Processes", "$ 16,219", "$ 12,924", "$ 11,389"], ["Intelligent Cloud", "13,920", "11,524", "9,127"], ["More Personal Computing", "12,820", "10,610", "8,815"], ["Corporate and Other", "0", "0", "(306)"], ["Total", "$ 42,959", "$ 35,058", "$ 29,025"]]